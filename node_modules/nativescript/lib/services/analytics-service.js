"use strict";
const analytics_service_base_1 = require("../common/services/analytics-service-base");
class AnalyticsService extends analytics_service_base_1.AnalyticsServiceBase {
    constructor($logger, $options, $staticConfig, $errors, $prompter, $userSettingsService, $analyticsSettingsService, $progressIndicator, $osInfo) {
        super($logger, $options, $staticConfig, $errors, $prompter, $userSettingsService, $analyticsSettingsService, $progressIndicator, $osInfo);
        this.$logger = $logger;
        this.$options = $options;
    }
    checkConsentCore(trackFeatureUsage) {
        return (() => {
            this.restartEqatecMonitor(AnalyticsService.ANALYTICS_FEATURE_USAGE_TRACKING_API_KEY).wait();
            super.checkConsentCore(trackFeatureUsage).wait();
            this.tryStopEqatecMonitor();
        }).future()();
    }
}
AnalyticsService.ANALYTICS_FEATURE_USAGE_TRACKING_API_KEY = "9912cff308334c6d9ad9c33f76a983e3";
exports.AnalyticsService = AnalyticsService;
$injector.register("analyticsService", AnalyticsService);
